(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{14:function(n,e,t){"use strict";t.d(e,"b",(function(){return c})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return i})),t.d(e,"d",(function(){return o})),t.d(e,"e",(function(){return s})),t.d(e,"f",(function(){return u})),t.d(e,"g",(function(){return d}));var r=t(12),c="news/FETCH_NEWS_REQUEST",a="news/FETCH_NEWS_SUCCESS",i="news/FETCH_NEWS_FAILURE",o=Object(r.createAsyncAction)(c,a,i)(),s=Object(r.createAction)("news/INCREASE_PAGE")(),u=Object(r.createAction)("news/SET_KEYWORD")(),d=Object(r.createAction)("news/SET_SCROLL_LOCATION")()},18:function(n,e,t){"use strict";var r=t(40);t.d(e,"default",(function(){return r.a}));var c=t(14);t.d(e,"fetchNewsAction",(function(){return c.d})),t.d(e,"increasePage",(function(){return c.e})),t.d(e,"setKeyword",(function(){return c.f})),t.d(e,"setScrollLocation",(function(){return c.g}));t(41)},23:function(n,e,t){"use strict";var r=t(42);t.d(e,"default",(function(){return r.a}));var c=t(25);t.d(e,"addSavedNews",(function(){return c.a})),t.d(e,"removeSavedNews",(function(){return c.b})),t.d(e,"setScrollLocation",(function(){return c.c}));t(43)},25:function(n,e,t){"use strict";t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i}));var r=t(12),c=Object(r.createAction)("saved/ADD_SAVED_NEWS")(),a=Object(r.createAction)("saved/REMOVE_SAVED_NEWS")(),i=Object(r.createAction)("saved/SET_SCROLL_LOCATION")()},40:function(n,e,t){"use strict";var r=t(36),c=t(9),a=t(12),i=t(14),o=Object(a.createReducer)({news:[],message:"",page:0,keyword:"",loading:!1,scrollLocation:0}).handleAction(i.d.success,(function(n,e){return Object(c.a)(Object(c.a)({},n),{},{news:[].concat(Object(r.a)(n.news),Object(r.a)(e.payload.news)),loading:!1})})).handleAction(i.d.failure,(function(n,e){return Object(c.a)(Object(c.a)({},n),{},{message:e.payload.message,loading:!1})})).handleAction(i.d.request,(function(n){return Object(c.a)(Object(c.a)({},n),{},{loading:!0})})).handleAction(i.e,(function(n){return Object(c.a)(Object(c.a)({},n),{},{page:n.page<100?n.page+1:n.page})})).handleAction(i.f,(function(n,e){return Object(c.a)(Object(c.a)({},n),{},{keyword:e.payload,news:[],page:0})})).handleAction(i.g,(function(n,e){return Object(c.a)(Object(c.a)({},n),{},{scrollLocation:e.payload})}));e.a=o},41:function(n,e){},42:function(n,e,t){"use strict";var r=t(9),c=t(12),a=t(25),i=Object(c.createReducer)({saved:[],scrollLocation:0}).handleAction(a.a,(function(n,e){return Object(r.a)(Object(r.a)({},n),{},{saved:n.saved.concat(e.payload)})})).handleAction(a.b,(function(n,e){return Object(r.a)(Object(r.a)({},n),{},{saved:n.saved.filter((function(n){return n._id!==e.payload}))})})).handleAction(a.c,(function(n,e){return Object(r.a)(Object(r.a)({},n),{},{scrollLocation:e.payload})}));e.a=i},43:function(n,e){},88:function(n,e,t){"use strict";t.r(e);var r=t(3),c=t(0),a=t.n(c),i=t(28),o=t.n(i),s=t(6),u=t(26),d=t(10),l=t(53),b=(t(38),t(7)),f=t(8);function j(){var n=Object(b.a)(["\n  top: 0;\n  display: flex;\n  position: absolute;\n  align-items: center;\n  height: 100%;\n  font-size: 16px;\n  left: 1.2rem;\n  right: auto;\n  color: #888;\n"]);return j=function(){return n},n}function h(){var n=Object(b.a)(["\n  background: transparent;\n  border-radius: inherit;\n  width: 100%;\n  height: 100%;\n  border: 0;\n  outline: none;\n  font-size: 16px;\n  padding-left: 3.125rem;\n  color: #888;\n  ::placeholder {\n    color: #888;\n  }\n"]);return h=function(){return n},n}function m(){var n=Object(b.a)(["\n  border: 1px solid #888;\n  border-radius: 4px;\n  display: inline-block;\n  position: relative;\n  width: 77rem;\n  height: 48px;\n"]);return m=function(){return n},n}function p(){var n=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  padding: 48px 24px;\n\n  justify-content: center;\n  align-items: center;\n"]);return p=function(){return n},n}var x=f.b.div(p()),O=f.b.div(m()),w=f.b.input(h()),v=f.b.i(j()),g=t(18);var y=function(){var n=Object(s.b)();return{newsState:Object(s.c)((function(n){return n.news})).news,fetchNewsDispatch:function(e,t){n(g.fetchNewsAction.request({keyword:e,page:t}))}}};var k=t(23);var E=function(){var n=Object(s.b)();return{newsScroll:Object(c.useCallback)((function(e){return n(Object(g.setScrollLocation)(e))}),[n]),savedScroll:Object(c.useCallback)((function(e){return n(Object(k.setScrollLocation)(e))}),[n])}};function S(){var n=y().fetchNewsDispatch,e=function(){var n=Object(s.c)((function(n){return n.news.keyword})),e=Object(s.b)();return{stateKeyword:n,setKeywordDispatch:Object(c.useCallback)((function(n){return e(Object(g.setKeyword)(n))}),[e])}}().setKeywordDispatch,t=Object(s.c)((function(n){return n.news})),a=Object(l.debounce)((function(t){e(t),n(t,0)}),1e3),i=Object(c.useCallback)((function(n){var e=n.target.value;t.keyword.trim()!==e.trim()&&a(e)}),[a,t.keyword]);return Object(r.jsx)(x,{children:Object(r.jsxs)(O,{children:[Object(r.jsx)(w,{type:"text",placeholder:"Search news",onChange:i}),Object(r.jsx)(v,{className:"fa fa-search fa-lg"})]})})}function A(){var n=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  font-size: 1.25rem;\n  color: ",";\n  cursor: pointer;\n\n  @media only screen and (max-width: 374.97px) {\n    font-size: 1rem;\n  }\n"]);return A=function(){return n},n}function _(){var n=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  text-align: left;\n  font-size: 0.85rem;\n  width: 100%;\n  color: #888;\n  cursor: auto;\n  align-items: center;\n\n  @media only screen and (max-width: 1024px) {\n    font-size: 0.8rem;\n  }\n\n  @media only screen and (max-width: 767.97px) {\n    font-size: 0.7rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    font-size: 0.65rem;\n  }\n"]);return _=function(){return n},n}function C(){var n=Object(b.a)(["\n  text-align: left;\n  font-size: 0.95rem;\n  width: 100%;\n\n  @media only screen and (max-width: 1024px) {\n    font-size: 0.85rem;\n  }\n\n  @media only screen and (max-width: 767.97px) {\n    font-size: 0.75rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    font-size: 0.7rem;\n  }\n"]);return C=function(){return n},n}function z(){var n=Object(b.a)(["\n  text-align: left;\n  font-size: 1.4rem;\n  font-weight: bold;\n  width: 100%;\n\n  @media only screen and (max-width: 1024px) {\n    font-size: 1.2rem;\n  }\n\n  @media only screen and (max-width: 767.97px) {\n    font-size: 1rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    font-size: 0.8rem;\n  }\n"]);return z=function(){return n},n}function N(){var n=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 100%;\n  padding: 1rem;\n  overflow: hidden;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n\n  @media only screen and (max-width: 767.97px) {\n    height: 50%;\n    width: 100%;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    height: 55%;\n  }\n"]);return N=function(){return n},n}function T(){var n=Object(b.a)(["\n  display: flex;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 225px;\n  height: 190px;\n  ","\n\n  @media only screen and (max-width: 767.97px) {\n    width: 100%;\n    height: 50%;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    height: 45%;\n  }\n"]);return T=function(){return n},n}function L(){var n=Object(b.a)(["\n  display: flex;\n  position: relative;\n  width: 90%;\n  height: 15rem;\n  border-bottom: 1px solid #ddd;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 1rem;\n  padding-bottom: 1rem;\n  transition: all 0.5s;\n\n  @media only screen and (min-width: 1920px) {\n    height: 13rem;\n  }\n\n  @media only screen and (max-width: 767.97px) {\n    width: 95%;\n    flex-direction: column;\n    height: 23rem;\n  }\n\n  @media only screen and (max-width: 575.97px) {\n    height: 27rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    width: 100%;\n  }\n"]);return L=function(){return n},n}var D=f.b.div(L()),R=f.b.div(T(),(function(n){var e;return 0!==n.images.length&&n.images.filter((function(n){return"horizontalMediumAt2X"===n.subType}))[0]?"background-image: url('https://static01.nyt.com/".concat(null===(e=n.images.filter((function(n){return"horizontalMediumAt2X"===n.subType}))[0])||void 0===e?void 0:e.url,"?quality=75&auto=webp&disable=upscale');"):"background-color: #eee;"})),W=f.b.div(N()),M=f.b.div(z()),K=f.b.div(C()),P=f.b.div(_()),F=f.b.i(A(),(function(n){return n.saved?"rgb(245,245,90)":"#ccc"})),H=function(n){var e=new Date(n).toDateString().split(" "),t=parseInt(e[2],10),r=e[1],c=e[3];return"".concat(r,", ").concat(t,", ").concat(c)};function I(n){var e=n.news,t=function(n,e){var t=Object(s.b)();return{onToggle:Object(c.useCallback)((function(){return t(Object(k.addSavedNews)(e))}),[t,e]),onRemove:Object(c.useCallback)((function(){return t(Object(k.removeSavedNews)(n))}),[t,n])}}(e._id,e),a=t.onToggle,i=t.onRemove,o=Object(s.c)((function(n){return n.saved})).saved,u=function(){window.open(e.web_url)},d=Object(c.useCallback)((function(n){n.stopPropagation(),o.filter((function(n){return n._id===e._id})).length>0?i():a()}),[e._id,i,a,o]);return Object(r.jsxs)(D,{children:[Object(r.jsx)(R,{className:"thumbnail",images:e.multimedia,onClick:u}),Object(r.jsxs)(W,{onClick:u,children:[Object(r.jsx)(M,{children:e.headline.main}),Object(r.jsx)(K,{children:e.lead_paragraph.length>350?"".concat(e.lead_paragraph.slice(0,350)," ...more"):e.lead_paragraph}),Object(r.jsxs)(P,{onClick:function(n){return n.stopPropagation()},children:["".concat(H(e.pub_date)," | \n          ").concat(e.byline.original),Object(r.jsx)(F,{className:"fa fa-star",onClick:d,saved:o.filter((function(n){return n._id===e._id})).length>0})]})]})]})}function q(){var n=Object(b.a)(["\n  margin-left: -8px;\n  margin-right: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  position: relative;\n"]);return q=function(){return n},n}function U(){var n=Object(b.a)(["\n  flex: 1 1 0%;\n  max-width: 77rem;\n  width: 100%;\n\n  @media only screen and (max-width: 1279.98px) {\n    max-width: 77rem !important;\n  }\n"]);return U=function(){return n},n}function V(){var n=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 1.5rem 1.5rem 4rem;\n  width: 80rem;\n  border: 0;\n\n  @media only screen and (max-width: 1279.98px) {\n    display: block;\n    max-width: calc(1232px + 3rem);\n    width: 100%;\n  }\n"]);return V=function(){return n},n}var X=f.b.div(V()),B=f.b.div(U()),G=f.b.div(q()),J=t(9),Y=t(12),Q=Object(Y.createAction)("menu/SET_CURRENT_MENU")(),Z=Object(Y.createReducer)({menu:""}).handleAction(Q,(function(n,e){return Object(J.a)(Object(J.a)({},n),{},{menu:e.payload})}));function $(){var n=y(),e=n.newsState,t=n.fetchNewsDispatch,a=function(){var n=Object(s.c)((function(n){return n.news.page})),e=Object(s.b)();return{page:n,nextPage:Object(c.useCallback)((function(){return e(Object(g.increasePage)())}),[e])}}(),i=a.page,o=a.nextPage,u=Object(s.c)((function(n){return n.news})),d=E().newsScroll,l=Object(s.b)(),b=Object(c.useCallback)((function(){return l(Q("NEWS"))}),[l]);Object(c.useEffect)((function(){window.scrollTo(0,u.scrollLocation),b(),0===u.news.length&&t(u.keyword,u.page)}),[]);var f=function(){var n=document.documentElement,e=n.scrollHeight,r=n.scrollTop,c=n.clientHeight;d(r),u.loading||r+c!==e||(o(),t(u.keyword,i+1))};return Object(c.useEffect)((function(){return window.addEventListener("scroll",f),function(){window.removeEventListener("scroll",f)}})),Object(r.jsx)(X,{children:Object(r.jsx)(B,{children:Object(r.jsx)(G,{children:e.map((function(n){return Object(r.jsx)(I,{news:n},n._id)}))})})})}var nn=a.a.memo($);function en(){var n=Object(s.c)((function(n){return n.saved})).saved,e=Object(s.b)(),t=E().savedScroll,a=function(){var n=document.documentElement.scrollTop;t(n)},i=Object(c.useCallback)((function(){return e(Q("SAVED"))}),[e]);return Object(c.useEffect)((function(){i()}),[]),Object(c.useEffect)((function(){return window.addEventListener("scroll",a),function(){window.removeEventListener("scroll",a)}})),Object(r.jsx)(X,{children:Object(r.jsx)(B,{children:Object(r.jsx)(G,{children:0===n.length?Object(r.jsx)("div",{children:"There is no saved news"}):n.map((function(n){return Object(r.jsx)(I,{news:n},n.web_url)}))})})})}function tn(){var n=Object(b.a)(["\n  font-size: 1rem;\n\n  @media only screen and (max-width: 768px) {\n    font-size: 0.9rem;\n  }\n\n  @media only screen and (max-width: 576px) {\n    font-size: 0.8rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    font-size: 0.75rem;\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(b.a)(["\n  display: flex;\n  width: 40%;\n  align-items: center;\n  height: 100%;\n  justify-content: space-around;\n"]);return rn=function(){return n},n}function cn(){var n=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  min-height: 3rem;\n  align-items: center;\n  position: sticky;\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  align-items: center;\n  top: 0;\n  z-index: 1;\n\n  @media only screen and (max-width: 768px) {\n    min-height: 2.5rem;\n  }\n\n  @media only screen and (max-width: 374.97px) {\n    min-height: 2rem;\n  }\n"]);return cn=function(){return n},n}var an=f.b.div(cn()),on=f.b.div(rn()),sn=f.b.div(tn());function un(){var n=Object(s.c)((function(n){return n.menu})).menu;return Object(r.jsx)(an,{children:Object(r.jsxs)(on,{children:[Object(r.jsx)(sn,{children:Object(r.jsx)(u.b,{style:{color:"black",textDecoration:"none"},to:"/",children:Object(r.jsx)("span",{style:"NEWS"===n?{color:"black",textDecoration:"underline",fontWeight:"bold"}:{color:"#bbb"},children:"News"})})}),Object(r.jsx)(sn,{children:Object(r.jsx)(u.b,{style:{color:"black",textDecoration:"none"},to:"/saved",children:Object(r.jsx)("span",{style:"SAVED"===n?{color:"black",textDecoration:"underline",fontWeight:"bold"}:{color:"#bbb"},children:"Saved"})})})]})})}function dn(){var n=Object(b.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  a {\n      text-decoration: none;\n      color: inherit;\n  }\n"]);return dn=function(){return n},n}var ln=Object(f.a)(dn());var bn=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ln,{}),Object(r.jsx)(S,{}),Object(r.jsxs)(u.a,{children:[Object(r.jsx)(un,{}),Object(r.jsx)(d.a,{path:"/",exact:!0,component:nn}),Object(r.jsx)(d.a,{path:"/saved",exact:!0,component:en})]})]})},fn=t(20),jn=t(59),hn=t(21),mn=t.n(hn),pn=t(27),xn=t(57),On=t(58),wn=t.n(On),vn="M9hnOF0e6SM1BMMKqCobX4muvOHXYGu0",gn=function(){var n=Object(xn.a)(mn.a.mark((function n(){var e,t,r,c=arguments;return mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:0,n.next=4,wn.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?".concat(""!==e?"q=".concat(e):"","&page=").concat(t,"&api-key=").concat(vn));case 4:if("OK"===(r=n.sent).statusText){n.next=7;break}throw new Error(r.statusText);case 7:return n.abrupt("return",r.data.response.docs);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),yn=t(14),kn=mn.a.mark(Sn),En=mn.a.mark(An);function Sn(n){var e;return mn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pn.a)(gn,n.payload.keyword,n.payload.page);case 3:return e=t.sent,t.next=6,Object(pn.b)({type:yn.c,payload:{news:e}});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(pn.b)({type:yn.a,payload:{message:t.t0.message}});case 12:case"end":return t.stop()}}),kn,null,[[0,8]])}function An(){return mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(pn.c)(yn.b,Sn);case 2:case"end":return n.stop()}}),En)}var _n=Object(fn.c)({news:g.default,saved:k.default,menu:Z}),Cn=Object(jn.a)(),zn=Object(fn.e)(_n,Object(fn.a)(Cn));Cn.run(An);var Nn=zn;o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{store:Nn,children:Object(r.jsx)(bn,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ebb9cb02.chunk.js.map